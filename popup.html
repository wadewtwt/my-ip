<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyIP Pro</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="glass-container">
    <header>
      <div class="logo">
        <span class="dot"></span>
        <h1>MyIP Pro</h1>
      </div>
      <button id="refresh-btn" title="Refresh">
        <svg viewBox="0 0 24 24" width="18" height="18">
          <path fill="currentColor"
            d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
        </svg>
      </button>
    </header>

    <main>
      <div id="loading" class="loading-state">
        <div class="spinner"></div>
        <p>Fetching networking details...</p>
      </div>

      <div id="content" class="hidden">
        <div class="card ip-card">
          <label>IP Address</label>
          <div class="value-container">
            <span id="ip-address" class="ip-text">0.0.0.0</span>
            <button id="copy-btn" class="icon-btn" title="Copy">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path fill="currentColor"
                  d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" />
              </svg>
            </button>
          </div>
        </div>

        <div class="info-grid">
          <div class="info-item">
            <label>Country</label>
            <span id="country">--</span>
          </div>
          <div class="info-item">
            <label>City</label>
            <span id="city">--</span>
          </div>
          <div class="info-item">
            <label>ISP</label>
            <span id="isp">--</span>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <div class="footer-actions">
        <button id="history-btn" title="View History">History</button>
      </div>
      <div class="status-badge">
        <span class="status-dot green"></span>
        Connected
      </div>
    </footer>

    <!-- History Panel -->
    <div id="history-panel" class="history-panel hidden">
      <div class="history-header">
        <h3>History Log</h3>
        <button id="close-history" class="icon-btn">&times;</button>
      </div>
      <div id="history-list" class="history-list">
        <!-- Generated items -->
      </div>
      <button id="clear-history">Clear History</button>
    </div>

    <!-- Confirm Modal -->
    <div id="confirm-modal" class="confirm-overlay hidden">
      <div class="confirm-card">
        <div class="confirm-icon">!</div>
        <h3>Clear History?</h3>
        <p>All records will be permanently deleted.</p>
        <div class="confirm-btns">
          <button id="cancel-confirm" class="btn-secondary">Cancel</button>
          <button id="action-confirm" class="btn-danger">Clear All</button>
        </div>
      </div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>

</html>